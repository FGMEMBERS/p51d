<?xml version="1.0"?>
<!--
************************************************************************
P-51D simulation config. This files ties together all the components
used by FGFS to represent the P-51D. Components include the flight data 
model, instrument panel, and external 3D model.

March 2003 Jim Wilson, jimw@kelcomaine.com
************************************************************************
-->

<PropertyList>

 <sim>

  <description>P-51D</description>
  
  <flight-model>yasim</flight-model>
  <aero>p51d</aero>
  <fuel-fraction>0.75</fuel-fraction>

  <systems>
   <electrical>
    <path>Aircraft/Generic/generic-electrical.xml</path>
   </electrical>
  </systems> 
 
  <virtual-cockpit archive="y">true</virtual-cockpit>
  <allow-toggle-cockpit archive="y">true</allow-toggle-cockpit>

  <sound>
   <audible>true</audible>
   <path>Aircraft/p51d/p51d-sound.xml</path>
  </sound>

  <panel>
  <path>Aircraft/c172/Panels/c172-vfr-panel.xml</path>
  <visibility>false</visibility>
  </panel>

  <model>
   <path>Aircraft/p51d/Models/p51d-jw.xml</path>
  </model> 

  <view n="0">
   <internal archive="y">true</internal>
   <config>
    <x-offset-m archive="y" type="double">0.0</x-offset-m>
    <y-offset-m archive="y" type="double">0.730</y-offset-m>
    <z-offset-m archive="y" type="double">4.495</z-offset-m>
    <pitch-offset-deg>-17.5</pitch-offset-deg>
   </config>
  </view>

  <view n="1">
   <config>
    <target-z-offset-m archive="y" type="double">3.949</target-z-offset-m>
   </config>
  </view>

  <view n="2">
   <config>
    <target-z-offset-m archive="y" type="double">3.949</target-z-offset-m>
   </config>
  </view>

  <view n="3">
   <config>
    <target-z-offset-m archive="y" type="double">3.949</target-z-offset-m>
   </config>
  </view>

  <view n="4">
   <config>
    <target-z-offset-m archive="y" type="double">3.949</target-z-offset-m>
   </config>
  </view>

 <autopilot>
   <config>
     <min-climb-speed-kt type="float">70.0</min-climb-speed-kt>
     <best-climb-speed-kt type="float">75.0</best-climb-speed-kt>
     <target-climb-rate-fpm type="float">500.0</target-climb-rate-fpm>
     <target-descent-rate-fpm type="float">1000.0</target-descent-rate-fpm>
     <elevator-adj-factor type="float">4000.0</elevator-adj-factor>
     <integral-contribution type="float">0.01</integral-contribution>
     <zero-pitch-throttle type="float">0.45</zero-pitch-throttle>
     <zero-pitch-trim-full-throttle type="float">0.14</zero-pitch-trim-full-throttle>
   </config>
 </autopilot>

  <hud>
   <enable3d>false</enable3d>
  </hud>

 </sim>

 <engines>
  <engine>
   <rpm type="double">700</rpm>
   <!-- fake unimplemented settings -->
   <fuel-pump-psi type="double">18</fuel-pump-psi>
   <oil-pressure-psi type="double">75</oil-pressure-psi>
  </engine>
 </engines>

 <consumables>
  <fuel>
   <tank n="0">
    <level-gal_us>20</level-gal_us>
   </tank>
   <tank n="1">
    <level-gal_us>20</level-gal_us>
   </tank>
  </fuel>
 </consumables>

 <!-- set prop for the manual "bookmark" arrow on the remote compas -->
 <instrumentation>
    <magnetic-compass>
       <bookmark-heading-deg type="double">43.0</bookmark-heading-deg>
    </magnetic-compass>
 </instrumentation>

 <!-- set up control properties for YASim...default to first stage boost on -->
 <controls>
   <engines>
      <engine n="0">
        <magnetos>3</magnetos>
        <boost type="double">0.33</boost>
      </engine>
   </engines>
 </controls>

 <!-- map key for booster (supercharger) -->
 <input>
    <keyboard>
      <key n="2">
        <name>Ctrl-B</name>
        <desc>Toggle engine boost.</desc>
        <binding>
          <command>property-adjust</command>
          <property>/controls/engines/engine[0]/boost</property>
          <step type="double">0.33</step>
          <min type="double">0.0</min>
          <max type="double">1.5</max>
        </binding>
        <binding>
          <condition>
          <greater-than>
            <property>/controls/engines/engine[0]/boost</property>
            <value type="double">1.0001</value>
          </greater-than>
          </condition>
          <command>property-assign</command>
          <property>/controls/engines/engine[0]/boost</property>
          <value type="double">0.0</value>
        </binding>
        <binding>
          <condition>
          <greater-than>
            <property>/controls/engines/engine[0]/boost</property>
            <value type="double">0.55</value>
          </greater-than>
          </condition>
          <command>property-assign</command>
          <property>/controls/engines/engine[0]/boost</property>
          <value type="double">1.0</value>
        </binding>
      </key>
     </keyboard>
 </input>

</PropertyList>




